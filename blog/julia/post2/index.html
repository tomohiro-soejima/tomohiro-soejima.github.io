<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/jemdoc.css"> <link rel=apple-touch-icon  sizes=180x180  href="/assets/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="/assets/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="/assets/favicon-16x16.png"> <link rel=manifest  href="/assets/site.webmanifest"> <title>Quick guide to Julia</title> <meta name=google-site-verification  content=kpHYuhI7h81XOVXWEEDn36Yf-_kjnQVC7Acac_desn8  /> <table id=tlayout > <tr valign=top > <td id=layout-menu > <div class="menu-item "><a href="/">home</a></div> <div class=menu-category >julia</div> <div class="menu-item "><a href="/blog/julia/post1/">Closure</a></div> <div class="menu-item "><a href="/blog/julia/post2/">QuickJulia</a></div> <div class=menu-category >spin chain</div> <div class="menu-item "><a href="/blog/spin/post1/">sparseTFIM</a></div> <div class=menu-category >GitHub</div> <div class="menu-item "><a href="/blog/GitHub/post1/">Why GitHub?</a></div> <td id=layout-content > <br> <div class="container blog-title"> <h1>Quick guide to Julia</h1> <h3> <span style="font-weight: lighter;"> posted: 2021-04-17 | last modified: 2022-01-31 </span> | <span style="font-weight: bold;">Tomohiro Soejima</span> </h3> </div> <br> <div class=franklin-content ><p>Learning how to write Julia is relatively easy. As a dynamic language focused on numerical computation, it&#39;s syntax is relatively straightforward. There are good cheatsheets to get you started such as <a href="https://cheatsheets.quantecon.org/">this comparison with Python and Matlab</a> or <a href="https://juliadocs.github.io/Julia-Cheat-Sheet/">this general purpose cheat sheet</a>. What may be harder is to figure out good practices and tools for Juila. Here are some of the tips and tools I&#39;ve found useful over the years, in the order of usefulness.</p> <div class=franklin-toc ><ol><li><a href="#put_performance_critical_code_inside_a_function">Put performance critical code inside a function</a><li><a href="#dont_use_globals">Don&#39;t use globals</a><li><a href="#be_careful_when_you_initialize_an_empty_array">Be careful when you initialize an empty array</a><li><a href="#read_performance_tips_section_of_the_manual">Read performance tips section of the manual</a><li><a href="#use_revisejl">Use Revise.jl</a></ol></div> <h2 id=put_performance_critical_code_inside_a_function ><a href="#put_performance_critical_code_inside_a_function" class=header-anchor >Put performance critical code inside a function</a></h2> <p>Julia uses Just-In-Time&#40;JIT&#41; compilation to speed up code execution. In order for JIT compilation to happen, however, your code must be inside a function. Even if you are just playing around with a short code snippet, put it in a function&#33; It can speed up your code by a factor of 100 or more.</p> <h2 id=dont_use_globals ><a href="#dont_use_globals" class=header-anchor >Don&#39;t use globals</a></h2> <p>Global variables slow down your code by a lot. Don&#39;t use them. If you really need to, annotate it with <code>const</code>, as in</p> <pre><code class="julia hljs"><span class=hljs-keyword >const</span> NUM = <span class=hljs-number >1</span></code></pre>
<p>But really, unless you know what you are doing, avoid global variables.</p>
<h2 id=be_careful_when_you_initialize_an_empty_array ><a href="#be_careful_when_you_initialize_an_empty_array" class=header-anchor >Be careful when you initialize an empty array</a></h2>
<p>In Python, if you want to initialize an empty list, you usually write</p>
<pre><code class="python hljs">arr = []
arr.append([<span class=hljs-number >1</span>])</code></pre>
<p>And there is no performance penalty to doing this. I can translate this to Julia</p>
<pre><code class="julia hljs">arr = []
append!(arr, [<span class=hljs-number >1</span>])</code></pre>
<p>However, <strong>this is a very bad code</strong> in julia, if you intend to store only integers in this array. Instead, specify the type of the array like this:</p>
<pre><code class="julia hljs">arr = <span class=hljs-built_in >Int</span>[]
append!(arr, [<span class=hljs-number >1</span>])</code></pre>
<p>Read the <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#Write-&#37;22type-stable&#37;22-functions">type stability</a> section of the manual for more information.</p>
<h2 id=read_performance_tips_section_of_the_manual ><a href="#read_performance_tips_section_of_the_manual" class=header-anchor >Read performance tips section of the manual</a></h2>
<p>The following two tips are included in the <a href="https://docs.julialang.org/en/v1/manual/performance-tips/">performance tips</a> section of the manual. There are a lot more useful information in the manual. You might not understand some of them yet, but remember this section exists, and come back to it from time to time.</p>
<h2 id=use_revisejl ><a href="#use_revisejl" class=header-anchor >Use Revise.jl</a></h2>
<p>This one is more about tooling. <a href="https://github.com/timholy/Revise.jl">Revise.jl</a> is a great package that makes developing Julia code much more efficient. If you are writing anything more than a short Jupyter notebook or short one-use script, you should check out Revise.jl to speed up your code writing process.</p>
<div class=page-foot >
  <div class=copyright >
    &copy; Tomohiro Soejima. Last modified: January 31, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> 
  </div>
</div>
</div>
        
      
    </table>